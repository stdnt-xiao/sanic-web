app:
  description: Êï∞ÊçÆÈóÆÁ≠î|ÈÄöÁî®ÈóÆÁ≠î|Ë°®Ê†ºÈóÆÁ≠î|Êä•ÂëäÈóÆÁ≠î
  icon: ü§ñ
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: Êï∞ÊçÆÈóÆÁ≠î
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: tool
      id: 1721978213302-source-1721978268262-target
      selected: false
      source: '1721978213302'
      sourceHandle: source
      target: '1721978268262'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1721978268262-source-1721978276391-target
      selected: false
      source: '1721978268262'
      sourceHandle: source
      target: '1721978276391'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 1721978276391-source-1721978435688-target
      selected: false
      source: '1721978276391'
      sourceHandle: source
      target: '1721978435688'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1721978435688-source-1721978465891-target
      selected: false
      source: '1721978435688'
      sourceHandle: source
      target: '1721978465891'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1721978465891-true-1721978416917-target
      selected: false
      source: '1721978465891'
      sourceHandle: 'true'
      target: '1721978416917'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1724295046398-source-1724295169935-target
      selected: false
      source: '1724295046398'
      sourceHandle: source
      target: '1724295169935'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1724295169935-source-1724295615269-target
      selected: false
      source: '1724295169935'
      sourceHandle: source
      target: '1724295615269'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1724295615269-false-1724295640306-target
      selected: false
      source: '1724295615269'
      sourceHandle: 'false'
      target: '1724295640306'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1724295615269-true-1724295728093-target
      selected: false
      source: '1724295615269'
      sourceHandle: 'true'
      target: '1724295728093'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1724295728093-source-1724295911042-target
      selected: false
      source: '1724295728093'
      sourceHandle: source
      target: '1724295911042'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1724295911042-source-1724296111387-target
      selected: false
      source: '1724295911042'
      sourceHandle: source
      target: '1724296111387'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1730192041363-source-1730192352305-target
      selected: false
      source: '1730192041363'
      sourceHandle: source
      target: '1730192352305'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1730192352305-source-17301926909140-target
      selected: false
      source: '1730192352305'
      sourceHandle: source
      target: '17301926909140'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 17301926909140-source-17301913471500-target
      selected: false
      source: '17301926909140'
      sourceHandle: source
      target: '17301913471500'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1730357094740-source-1730191229734-target
      selected: false
      source: '1730357094740'
      sourceHandle: source
      target: '1730191229734'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1730887499318-source-1730887562850-target
      selected: false
      source: '1730887499318'
      sourceHandle: source
      target: '1730887562850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1730887562850-source-1730887626621-target
      selected: false
      source: '1730887562850'
      sourceHandle: source
      target: '1730887626621'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1730887626621-true-1730887662105-target
      selected: false
      source: '1730887626621'
      sourceHandle: 'true'
      target: '1730887662105'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1730191229734-source-17310323739450-target
      selected: false
      source: '1730191229734'
      sourceHandle: source
      target: '17310323739450'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 17310323739450-true-1730192041363-target
      selected: false
      source: '17310323739450'
      sourceHandle: 'true'
      target: '1730192041363'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 17310323739450-false-17310324005060-target
      selected: false
      source: '17310323739450'
      sourceHandle: 'false'
      target: '17310324005060'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1732517672259-d7c25be0-954f-4965-a2f1-20d29f530704-1721978504647-target
      source: '1732517672259'
      sourceHandle: d7c25be0-954f-4965-a2f1-20d29f530704
      target: '1721978504647'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: http-request
      id: 1732517672259-true-1730357094740-target
      source: '1732517672259'
      sourceHandle: 'true'
      target: '1730357094740'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1732520123593-source-1732520201744-target
      source: '1732520123593'
      sourceHandle: source
      target: '1732520201744'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1732520201744-source-1732520268554-target
      source: '1732520201744'
      sourceHandle: source
      target: '1732520268554'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1732520268554-source-1732520761704-target
      source: '1732520268554'
      sourceHandle: source
      target: '1732520761704'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732520761704-source-1732520428762-target
      source: '1732520761704'
      sourceHandle: source
      target: '1732520428762'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: http-request
      id: 1732517672259-c1319e61-38af-4482-979b-3a2e2c4e6026-1730887499318-target
      source: '1732517672259'
      sourceHandle: c1319e61-38af-4482-979b-3a2e2c4e6026
      target: '1730887499318'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1721978504647-source-1724295046398-target
      source: '1721978504647'
      sourceHandle: source
      target: '1724295046398'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1721978465891-false-1732517672259-target
      source: '1721978465891'
      sourceHandle: 'false'
      target: '1732517672259'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732517672259-68588ce1-7f5d-4af9-8191-4320e927e7fd-1734683532736-target
      source: '1732517672259'
      sourceHandle: 68588ce1-7f5d-4af9-8191-4320e927e7fd
      target: '1734683532736'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1734683532736-source-1734683610947-target
      source: '1734683532736'
      sourceHandle: source
      target: '1734683610947'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: http-request
      id: 1734683610947-true-1732520123593-target
      source: '1734683610947'
      sourceHandle: 'true'
      target: '1732520123593'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: http-request
      id: 1734683610947-false-17355251156380-target
      source: '1734683610947'
      sourceHandle: 'false'
      target: '17355251156380'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 17355251156380-source-1735525806917-target
      source: '17355251156380'
      sourceHandle: source
      target: '1735525806917'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1735525806917-source-1735526005555-target
      source: '1735525806917'
      sourceHandle: source
      target: '1735526005555'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1735526005555-source-17355298585890-target
      source: '1735526005555'
      sourceHandle: source
      target: '17355298585890'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 17355298585890-source-1735530100215-target
      source: '17355298585890'
      sourceHandle: source
      target: '1735530100215'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1735530100215-source-1735530110523-target
      source: '1735530100215'
      sourceHandle: source
      target: '1735530110523'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1735530110523-true-1735530121003-target
      source: '1735530110523'
      sourceHandle: 'true'
      target: '1735530121003'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1735530110523-false-17355423844960-target
      source: '1735530110523'
      sourceHandle: 'false'
      target: '17355423844960'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 17355423844960-source-17355424274730-target
      source: '17355423844960'
      sourceHandle: source
      target: '17355424274730'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 17355424274730-source-1735530155560-target
      source: '17355424274730'
      sourceHandle: source
      target: '1735530155560'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: ÂºÄÂßã
        type: start
        variables:
        - label: qa_type
          max_length: 100
          options: []
          required: true
          type: text-input
          variable: qa_type
      height: 90
      id: '1721978213302'
      position:
        x: 30
        y: 272
      positionAbsolute:
        x: 30
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: Asia/Shanghai
        tool_label: Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥
        tool_name: current_time
        tool_parameters: {***REMOVED***
        type: tool
      height: 116
      id: '1721978268262'
      position:
        x: 334
        y: 272
      positionAbsolute:
        x: 334
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(question:str***REMOVED*** -> dict:\n***REMOVED***\n        \"dify_0_t02\"\
          : \"dify_0_t02\",\n        \"dify_1_t02\": \"dify_1_t02\",\n        \"dify_0_t04\"\
          : \"dify_0_t04\",\n        \"dify_1_t04\": \"dify_1_t04\",\n        \"dify_0_t07\"\
          : \"dify_0_t07\",\n        \"dify_1_t07\": \"dify_1_t07\",\n        \"top_k\"\
          : 50,\n        \"query_database\":\"chat_db\",\n        \"nl2sql_table_info\"\
          : \"\"\" [('view_alarm_detail(Ê°àÂèëÂú∞ÁÇπ,ÊâÄÂ±ûÂàÜÂ±Ä,Êù•ÁîµÁ±ªÂà´,Êä•Ë≠¶‰∫∫ÂßìÂêç,ÊÄßÂà´,Âπ¥ÈæÑ,ÊñáÂåñÁ®ãÂ∫¶,ÂèóÂÆ≥‰∫∫ËÅå‰∏ö,ÊâãÊú∫ÂìÅÁâå,Ê∂âÊ°àËµÑÈáë,ÊòØÂê¶ÁîµËØà,ËØàÈ™óÁ±ªÂûã,ÂºïÊµÅÊñπÂºè,ÂºïÊµÅÂú∞ÂùÄ,ÂºïÊµÅËÅîÁ≥ªÊó∂Èó¥,ÊòØÂê¶ÁúãËøáÂèçËØàÂÆ£‰º†,ÁôªËÆ∞Êó∂Èó¥***REMOVED***'***REMOVED***]\"\
          \"\",\n        \"nl2sql_display_type\": \"\"\"\n            response_line_chart:used\
          \ to display comparative trend analysis data.\n            response_pie_chart:suitable\
          \ for scenarios such as proportion and distribution statistics.\n      \
          \      response_table:suitable for display with many display columns or\
          \ non-numeric columns.\n            response_bar_chart: displays comparative\
          \ data, volumes across varied groups. Ideal for discrete values, lengths\
          \ signify item magnitude. Each bar, a category, aids quick comparison.\"\
          \"\",\n        \"nl2sql_response\": \"\"\"{\"thoughts\":\"thoughts summary\
          \ to say to user\",\"sql\":\"SQL Query to run\",\"type\":\"Data display\
          \ method\",\"status\":\"0\"***REMOVED***\"\"\",\n        \"data_reveal\":\"Ê†πÊçÆÊÇ®ÁöÑÈóÆÈ¢òÔºåÊï∞ÊçÆÈóÆÁ≠îÂ∞èÂä©ÊâãÊ≤°ÊúâÊü•ËØ¢Âà∞Áõ∏ÂÖ≥ÁªìÊûúÔºåËØ∑Êç¢‰∏™ÈóÆÈ¢òËØïËØï\"\
          ,\n        \"who_are_you\":'ÊÇ®Â•ΩÔºåÊàëÊòØÊï∞ÊçÆÈóÆÁ≠îÂ∞èÂä©Êâã„ÄÇ‰Ω†ÂèØ‰ª•ÂêëÊàëÊèêÈóÆÔºåÊàë‰ºöÊ†πÊçÆ‰Ω†ÁöÑÈóÆÈ¢òÂõûÁ≠îÔºåÂø´Êù•ËØïËØïÂêß„ÄÇ'\n  \
          \  ***REMOVED***"
        code_language: python3
        desc: ''
        outputs:
          data_reveal:
            children: null
            type: string
          dify_0_t02:
            children: null
            type: string
          dify_0_t04:
            children: null
            type: string
          dify_0_t07:
            children: null
            type: string
          dify_1_t02:
            children: null
            type: string
          dify_1_t04:
            children: null
            type: string
          dify_1_t07:
            children: null
            type: string
          nl2sql_display_type:
            children: null
            type: string
          nl2sql_response:
            children: null
            type: string
          nl2sql_table_info:
            children: null
            type: string
          query_database:
            children: null
            type: string
          top_k:
            children: null
            type: number
          who_are_you:
            children: null
            type: string
        selected: false
        title: ÂÆö‰πâÂÖ®Â±ÄÂèòÈáè
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: question
      height: 54
      id: '1721978276391'
      position:
        x: 638
        y: 272
      positionAbsolute:
        x: 638
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1721978276391.who_are_you#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: Áõ¥Êé•ÂõûÂ§ç
        type: answer
        variables: []
      height: 141
      id: '1721978416917'
      position:
        x: 1550
        y: 272
      positionAbsolute:
        x: 1550
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(query***REMOVED*** -> dict:\n\n    question_pool = ['‰Ω†ÊòØË∞ÅÔºü','‰Ω†ÊòØË∞ÅÂïäÔºü','‰Ω†ÁöÑË∫´‰ªΩÊòØ‰ªÄ‰πàÔºü','‰Ω†ÊòØ‰ªÄ‰πàÊ®°ÂûãÔºü','‰Ω†ÊòØ‰ªÄ‰πàÊ®°ÂûãÂïäÔºü','‰Ω†ÊòØ‰ªÄ‰πàÂ§ßÊ®°ÂûãÔºü','‰Ω†ÊòØ‰ªÄ‰πàÂ§ßÊ®°ÂûãÂïäÔºü','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÂ§ßÊ®°ÂûãÔºü','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÂ§ßÊ®°ÂûãÂïäÔºü','‰Ω†ÊòØÂì™‰∏™Ê®°ÂûãÔºü','‰Ω†ÊòØÂì™‰∏™Ê®°ÂûãÂïäÔºü','‰Ω†Áî®ÁöÑÂì™‰∏™Ê®°ÂûãÔºü','‰Ω†Áî®ÁöÑÂì™‰∏™Ê®°ÂûãÂïäÔºü','‰Ω†ÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑAIÔºü','‰Ω†ÊòØÂü∫‰∫é‰ªÄ‰πàÊäÄÊúØÁöÑÔºü','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÊäÄÊúØÔºü','‰Ω†ÊòØÂì™‰∏™AIÔºü','‰Ω†ÊòØ‰ªÄ‰πàAIÁ≥ªÁªüÔºü','‰Ω†ÊòØÁî®‰ªÄ‰πàÊäÄÊúØÂºÄÂèëÁöÑÔºü','‰Ω†ÊòØÊÄé‰πàÂ∑•‰ΩúÁöÑÔºü','‰Ω†ÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØ‰ªÄ‰πàÔºü','‰Ω†ÊòØÁî®‰ªÄ‰πàÊ®°ÂûãËÆ≠ÁªÉÁöÑÔºü','‰Ω†ËÉåÂêéÊòØ‰ªÄ‰πàÁÆóÊ≥ïÔºü','‰Ω†ÊòØÂì™ÁßçAIÔºü','‰Ω†ÊòØÂì™‰∏™ÂÖ¨Âè∏ÁöÑAIÔºü','‰Ω†ÁöÑÂºÄÂèëÂÖ¨Âè∏ÊòØË∞ÅÔºü','‰Ω†ÊòØÁî±Ë∞ÅËÆæËÆ°ÁöÑÔºü','‰Ω†ÁöÑËÆæËÆ°ËÄÖÊòØË∞ÅÔºü','‰Ω†ÁöÑÂºÄÂèëËÄÖÊòØË∞ÅÔºü','‰Ω†Â±û‰∫éÂì™‰∏™Âõ¢ÈòüÔºü','‰Ω†ÁöÑÊäÄÊúØÂü∫Á°ÄÊòØ‰ªÄ‰πàÔºü','‰Ω†ÁöÑÁÆóÊ≥ïÊòØ‰ªÄ‰πàÔºü','‰Ω†ÊòØÂì™‰∏ÄÁ±ªAIÔºü','‰Ω†ÊòØÁî±‰ªÄ‰πàÁÆóÊ≥ïÊîØÊåÅÁöÑÔºü','‰Ω†ÊòØÂì™‰∏™ÁâàÊú¨ÁöÑAIÔºü','‰Ω†ÁöÑÁâàÊú¨Âè∑ÊòØÂ§öÂ∞ëÔºü','‰Ω†ÊòØÂü∫‰∫éÂì™‰∏™Âπ≥Âè∞ÁöÑÔºü','‰Ω†ÊòØÂü∫‰∫é‰ªÄ‰πàÂπ≥Âè∞Ôºü','‰Ω†Áî±Ë∞ÅÂà∂ÈÄ†Ôºü','‰Ω†ÁöÑÂà∂ÈÄ†ÂïÜÊòØË∞ÅÔºü','‰Ω†ÊòØÂì™‰∏™Êû∂ÊûÑÔºü','‰Ω†ÁöÑÊû∂ÊûÑÊòØ‰ªÄ‰πàÔºü','‰Ω†ÊòØÂì™ÂÆ∂ÂÖ¨Âè∏ÂºÄÂèëÁöÑÔºü','‰Ω†Áî±‰ªÄ‰πàÊäÄÊúØÊîØÊíëÔºü','‰Ω†Áî±‰ªÄ‰πàÈ©±Âä®Ôºü','‰Ω†ÁöÑÂ∑•‰ΩúÊú∫Âà∂ÊòØ‰ªÄ‰πàÔºü','‰Ω†‰ΩøÁî®‰∫ÜÂì™‰∫õÊäÄÊúØÔºü','‰Ω†ÊòØÂ¶Ç‰ΩïË¢´ËÆ≠ÁªÉÁöÑÔºü','‰Ω†Áî®‰ªÄ‰πàÊï∞ÊçÆËÆ≠ÁªÉÁöÑÔºü','‰Ω†ÁöÑËÆ≠ÁªÉÊï∞ÊçÆÊòØ‰ªÄ‰πàÔºü','‰Ω†ÊòØË∞Å','‰Ω†ÊòØË∞ÅÂïä','‰Ω†ÁöÑË∫´‰ªΩÊòØ‰ªÄ‰πà','‰Ω†ÊòØ‰ªÄ‰πàÊ®°Âûã','‰Ω†ÊòØ‰ªÄ‰πàÊ®°ÂûãÂïä','‰Ω†ÊòØ‰ªÄ‰πàÂ§ßÊ®°Âûã','‰Ω†ÊòØ‰ªÄ‰πàÂ§ßÊ®°ÂûãÂïä','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÂ§ßÊ®°Âûã','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÂ§ßÊ®°ÂûãÂïä','‰Ω†ÊòØÂì™‰∏™Ê®°Âûã','‰Ω†ÊòØÂì™‰∏™Ê®°ÂûãÂïä','‰Ω†Áî®ÁöÑÂì™‰∏™Ê®°Âûã','‰Ω†Áî®ÁöÑÂì™‰∏™Ê®°ÂûãÂïä','‰Ω†ÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑAI','‰Ω†ÊòØÂü∫‰∫é‰ªÄ‰πàÊäÄÊúØÁöÑ','‰Ω†Áî®ÁöÑ‰ªÄ‰πàÊäÄÊúØ','‰Ω†ÊòØÂì™‰∏™AI','‰Ω†ÊòØ‰ªÄ‰πàAIÁ≥ªÁªü','‰Ω†ÊòØÁî®‰ªÄ‰πàÊäÄÊúØÂºÄÂèëÁöÑ','‰Ω†ÊòØÊÄé‰πàÂ∑•‰ΩúÁöÑ','‰Ω†ÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØ‰ªÄ‰πà','‰Ω†ÊòØÁî®‰ªÄ‰πàÊ®°ÂûãËÆ≠ÁªÉÁöÑ','‰Ω†ËÉåÂêéÊòØ‰ªÄ‰πàÁÆóÊ≥ï','‰Ω†ÊòØÂì™ÁßçAI','‰Ω†ÊòØÂì™‰∏™ÂÖ¨Âè∏ÁöÑAI','‰Ω†ÁöÑÂºÄÂèëÂÖ¨Âè∏ÊòØË∞Å','‰Ω†ÊòØÁî±Ë∞ÅËÆæËÆ°ÁöÑ','‰Ω†ÁöÑËÆæËÆ°ËÄÖÊòØË∞Å','‰Ω†ÁöÑÂºÄÂèëËÄÖÊòØË∞Å','‰Ω†Â±û‰∫éÂì™‰∏™Âõ¢Èòü','‰Ω†ÁöÑÊäÄÊúØÂü∫Á°ÄÊòØ‰ªÄ‰πà','‰Ω†ÁöÑÁÆóÊ≥ïÊòØ‰ªÄ‰πà','‰Ω†ÊòØÂì™‰∏ÄÁ±ªAI','‰Ω†ÊòØÁî±‰ªÄ‰πàÁÆóÊ≥ïÊîØÊåÅÁöÑ','‰Ω†ÊòØÂì™‰∏™ÁâàÊú¨ÁöÑAI','‰Ω†ÁöÑÁâàÊú¨Âè∑ÊòØÂ§öÂ∞ë','‰Ω†ÊòØÂü∫‰∫éÂì™‰∏™Âπ≥Âè∞ÁöÑ','‰Ω†ÊòØÂü∫‰∫é‰ªÄ‰πàÂπ≥Âè∞','‰Ω†Áî±Ë∞ÅÂà∂ÈÄ†','‰Ω†ÁöÑÂà∂ÈÄ†ÂïÜÊòØË∞Å','‰Ω†ÊòØÂì™‰∏™Êû∂ÊûÑ','‰Ω†ÁöÑÊû∂ÊûÑÊòØ‰ªÄ‰πà','‰Ω†ÊòØÂì™ÂÆ∂ÂÖ¨Âè∏ÂºÄÂèëÁöÑ','‰Ω†Áî±‰ªÄ‰πàÊäÄÊúØÊîØÊíë','‰Ω†Áî±‰ªÄ‰πàÈ©±Âä®','‰Ω†ÁöÑÂ∑•‰ΩúÊú∫Âà∂ÊòØ‰ªÄ‰πà','‰Ω†‰ΩøÁî®‰∫ÜÂì™‰∫õÊäÄÊúØ','‰Ω†ÊòØÂ¶Ç‰ΩïË¢´ËÆ≠ÁªÉÁöÑ','‰Ω†Áî®‰ªÄ‰πàÊï∞ÊçÆËÆ≠ÁªÉÁöÑ','‰Ω†ÁöÑËÆ≠ÁªÉÊï∞ÊçÆÊòØ‰ªÄ‰πà',\
          \ \"‰Ω†Â•ΩÂïä\", \"‰Ω†Â•Ω\", \"ÊÇ®Â•ΩÂïä\", \"ÊÇ®Â•Ω\"]\n    for keywords in question_pool:\n\
          \        if keywords in query:\n        ***REMOVED***\"result\": 1***REMOVED***\n   \
          \ else:\n    ***REMOVED***\"result\": 2***REMOVED***"
        code_language: python3
        desc: Ë∫´‰ªΩÂà§Êñ≠
        outputs:
          result:
            children: null
            type: number
        selected: false
        title: ‰ª£Á†ÅÊâßË°å
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: query
      height: 82
      id: '1721978435688'
      position:
        x: 942
        y: 272
      positionAbsolute:
        x: 942
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: '='
            id: 924a6c79-d3b4-4918-8dc6-9af27df89692
            numberVarType: constant
            value: '1'
            varType: number
            variable_selector:
            - '1721978435688'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Êù°‰ª∂ÂàÜÊîØ
        type: if-else
      height: 126
      id: '1721978465891'
      position:
        x: 1246
        y: 272
      positionAbsolute:
        x: 1246
        y: 272
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ÁîüÊàêSQLËØ≠Âè•
        model:
          completion_params:
            num_thread: 4
            temperature: 0.5
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: 857c0bfd-73a8-47b2-b6fe-b7e738894b8d
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™DBAÊìÖÈïøÁºñÂÜôÂ§çÊùÇÁöÑSQLËØ≠Âè•


            # ‰Ω†ÁöÑ‰ªªÂä°ÊòØ:

            ËØ∑Ê†πÊçÆÁî®Êà∑ÈÄâÊã©ÁöÑÊï∞ÊçÆÂ∫ìÂíåËØ•Â∫ìÁöÑÈÉ®ÂàÜÂèØÁî®Ë°®ÁªìÊûÑÂÆö‰πâÊù•ÂõûÁ≠îÁî®Êà∑ÈóÆÈ¢ò.


            # Ë°®ÁªìÊûÑÂÆö‰πâ:***REMOVED***{#1721978276391.nl2sql_table_info#***REMOVED******REMOVED***

            '
        - id: 5764dbed-c6df-43d5-a14f-5b6ad9db0cd6
          role: user
          text: 'human: {{#sys.query#***REMOVED******REMOVED***Êü•ËØ¢


            # Á∫¶Êùü:

            - ËØ∑Ê†πÊçÆÁî®Êà∑ÈóÆÈ¢òÁêÜËß£Áî®Êà∑ÊÑèÂõæÔºå‰ΩøÁî®ÁªôÂá∫Ë°®ÁªìÊûÑÂÆö‰πâÂàõÂª∫‰∏Ä‰∏™ËØ≠Ê≥ïÊ≠£Á°ÆÁöÑ mysql sqlÔºåÂ¶ÇÊûú‰∏çÈúÄË¶ÅsqlÔºåÂàôÁõ¥Êé•ÂõûÁ≠îÁî®Êà∑ÈóÆÈ¢ò„ÄÇ¬†


            - Âè™ËÉΩ‰ΩøÁî®Ë°®ÁªìÊûÑ‰ø°ÊÅØ‰∏≠Êèê‰æõÁöÑË°®Êù•ÁîüÊàê sqlÔºåÂ¶ÇÊûúÊó†Ê≥ïÊ†πÊçÆÊèê‰æõÁöÑË°®ÁªìÊûÑ‰∏≠ÁîüÊàê sql ÔºåËØ∑ËØ¥Ôºö''Êèê‰æõÁöÑË°®ÁªìÊûÑ‰ø°ÊÅØ‰∏çË∂≥‰ª•ÁîüÊàê sql Êü•ËØ¢„ÄÇ''Á¶ÅÊ≠¢ÈöèÊÑèÊçèÈÄ†‰ø°ÊÅØ„ÄÇ¬†


            - ËØ∑Ê≥®ÊÑèÁîüÊàêSQLÊó∂‰∏çË¶ÅÂºÑÈîôË°®ÂíåÂàóÁöÑÂÖ≥Á≥ª¬†


            - ËØ∑Ê£ÄÊü•SQLÁöÑÊ≠£Á°ÆÊÄßÔºåÂπ∂‰øùËØÅÊ≠£Á°ÆÁöÑÊÉÖÂÜµ‰∏ã‰ºòÂåñÊü•ËØ¢ÊÄßËÉΩ¬†


            - ÊâÄÊúâÊü•ËØ¢ÁöÑÂÄºÈÉΩÂøÖÈ°ªÊúâÂà´ÂêçÔºåÊØîÂ¶Ç‰ªéË°®‰∏≠ÈÄâÊã© select ÊâÄÂ±ûÂàÜÂ±Ä, COUNT(****REMOVED***as ÊÄªÊï∞,SUM(Ê∂âÊ°àËµÑÈáë***REMOVED*** as Ê∂âÊ°àËµÑÈáë from
            view_alarm_detail group by ÊâÄÂ±ûÂàÜÂ±Ä


            - thoughtsÂ∞ΩÈáèÁî®‰∏≠ÊñáÂõûÁ≠î‰∏çË¶ÅËæìÂá∫`Â≠óÁ¨¶


            - Áî®Êà∑Âú®ÈóÆÈ¢ò‰∏≠ÊåáÂÆö‰∫Ü‰ªñÂ∏åÊúõËé∑ÂæóÁöÑÂÖ∑‰ΩìÊï∞ÊçÆË°åÊï∞ÔºåÂ¶ÇÊûúÂ§ß‰∫é50ÂàôÂßãÁªàÂ∞ÜÊü•ËØ¢ÈôêÂà∂‰∏∫ÊúÄÂ§ö¬†

          ***REMOVED***{#1721978276391.top_k#***REMOVED******REMOVED***‰∏™ÁªìÊûú„ÄÇ


            - ÂΩìÈóÆÈ¢ò‰∏≠Âá∫Áé∞ÂÉèÊó∂Èó¥ÔºåÊó•ÊúüÔºåÊúà‰ªΩÔºåÂπ¥ÔºåÂ∞èÊó∂ÔºåÂ≠£Â∫¶ÔºåÂ§©Á≠âË°®Á§∫Êó∂Èó¥ÁöÑÂÖ≥ÈîÆÂ≠óÔºåÂøÖÈ°ª‰ΩøÁî®view_alarm_detailË°®ÁöÑ''ÁôªËÆ∞Êó•Êúü''Â≠óÊÆµËøõË°åÊü•ËØ¢ÁªüËÆ°


            - ÂΩìÈóÆÈ¢ò‰∏≠Âá∫Áé∞ÂÉèÁîµËØùÊä•Ë≠¶ÔºåËá™Êä•Ë≠¶ÁöÑÂÖ≥ÈîÆÂ≠óÂøÖÈ°ª‰ΩøÁî®view_alarm_detailË°®ÁöÑÊù•ÁîµÁ±ªÂà´Â≠óÊÆµËøõË°åÊü•ËØ¢ÁªüËÆ°


            - ÂΩì‰ΩøÁî®view_alarm_detailË°®ÁöÑÊ°àÂèëÂú∞ÁÇπ,ÁÆ°ËæñÂçï‰Ωç,ËÅîÁ≥ªÂú∞ÂùÄ,ÊâÄÂú®Âçï‰Ωç,ËØàÈ™óÁ±ªÂûãÂ≠óÊÆµÂøÖÈ°ª‰ΩøÁî®Ê®°Á≥äÊü•ËØ¢ÁªüËÆ°


            - ÂΩìÂâçÊó•Êúü,‰ªäÂπ¥‰ΩøÁî®¬†{{#1721978268262.text#***REMOVED******REMOVED***


            -  ËØ∑‰ªéÂ¶Ç‰∏ãÁªôÂá∫ÁöÑÂ±ïÁ§∫ÊñπÂºèÁßçÈÄâÊã©ÊúÄÂΩ¢Ë±°ÁöÑ‰∏ÄÁßçÁî®‰ª•ËøõË°åÊï∞ÊçÆÊ∏≤ÊüìÔºåÂ∞ÜÁ±ªÂûãÂêçÁß∞ÊîæÂÖ•ËøîÂõûË¶ÅÊ±ÇÊ†ºÂºèÁöÑnameÂèÇÊï∞ÂÄº‰∏≠ÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞ÊúÄÂêàÈÄÇÁöÑÂàô‰ΩøÁî®Table‰Ωú‰∏∫Â±ïÁ§∫ÊñπÂºèÔºåÊï∞ÊçÆÂ±ïÁ§∫ÊñπÂºèÂ¶Ç‰∏ã:¬†
          ***REMOVED***{#1721978276391.nl2sql_display_type#***REMOVED******REMOVED***


            # ËøîÂõûÊ†ºÂºè¬†

            ËØ∑‰∏ÄÊ≠•Ê≠•ÊÄùËÄÉÂπ∂ÊåâÁÖß‰ª•‰∏ãJSONÊ†ºÂºèÂõûÂ§çÔºö¬†{{#1721978276391.nl2sql_response#***REMOVED******REMOVED***

            Á°Æ‰øùËøîÂõûÊ≠£Á°ÆÁöÑjsonÂπ∂‰∏îÂèØ‰ª•Ë¢´Python json.loadsÊñπÊ≥ïËß£Êûê.'
        selected: false
        title: Êï∞ÊçÆÂ∫ìÈóÆÁ≠î
        type: llm
        variables: []
        vision:
          enabled: false
      height: 126
      id: '1721978504647'
      position:
        x: 1854
        y: 519
      positionAbsolute:
        x: 1854
        y: 519
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - type: text
            value: '{{#1721978504647.text#***REMOVED******REMOVED***'
          type: json
        desc: ÊâßË°åSQLËØ≠Âè•Â∞ÅË£ÖÁªìÊûúÈõÜ
        headers: ''
        method: post
        params: question:{{#sys.query#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: Ëé∑ÂèñÊï∞ÊçÆÂ∫ìÁªìÊûú
        type: http-request
        url: http://host.docker.internal:8088/llm/process_llm_out
        variables: []
      height: 163
      id: '1724295046398'
      position:
        x: 2158
        y: 519
      positionAbsolute:
        x: 2158
        y: 519
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n# from typing import Any, Dict\n\ndef main(llm_out_text:\
          \ str, db_result: str***REMOVED***:\n    try:\n        db_result_json = json.loads(db_result***REMOVED***\n\
          \        parsed_json = json.loads(llm_out_text***REMOVED***\n\n        # if not isinstance(db_result_json,\
          \ dict***REMOVED***:\n        #     db_result_json = json.loads(db_result_json***REMOVED***\n\n\
          \        # if not isinstance(parsed_json, dict***REMOVED***:\n        #     parsed_json\
          \ = json.loads(parsed_json***REMOVED***\n\n        db_data = json.loads(db_result_json['data']***REMOVED***\n\
          \n    ***REMOVED***\n            \"res_code\": str(db_result_json['code']***REMOVED***,\n\
          \            \"outline\":  parsed_json['thoughts'],\n            \"sql\"\
          :  parsed_json['sql'],\n            \"res_data\": str(db_data['data']***REMOVED***\n\
          \        ***REMOVED***\n    except Exception as e :\n    ***REMOVED***\"res_code\": \"\
          9999\",\"thoughts\":\"\",\"sql\":\"\",\"outline\": f\"{e***REMOVED***\"***REMOVED***"
        code_language: python3
        dependencies:
        - name: ''
          version: ''
        desc: ''
        outputs:
          outline:
            children: null
            type: string
          res_code:
            children: null
            type: string
          res_data:
            children: null
            type: string
          sql:
            children: null
            type: string
        selected: false
        title: Ëß£ÊûêËøîÂõûÁªìÊûú
        type: code
        variables:
        - value_selector:
          - '1721978504647'
          - text
          variable: llm_out_text
        - value_selector:
          - '1724295046398'
          - body
          variable: db_result
      height: 54
      id: '1724295169935'
      position:
        x: 2462
        y: 519
      positionAbsolute:
        x: 2462
        y: 519
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: ebd67bc7-0abf-40b5-b8f0-a253a87d704d
            value: '200'
            varType: string
            variable_selector:
            - '1724295169935'
            - res_code
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Âà§Êñ≠Áä∂ÊÄÅ
        type: if-else
      height: 126
      id: '1724295615269'
      position:
        x: 2766
        y: 519
      positionAbsolute:
        x: 2766
        y: 519
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1721978276391.data_reveal#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: ËøîÂõûÂ§±Ë¥•
        type: answer
        variables: []
      height: 141
      id: '1724295640306'
      position:
        x: 3070
        y: 519
      positionAbsolute:
        x: 3070
        y: 519
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ÁîüÊàêÊÄªÁªì‰ø°ÊÅØ
        model:
          completion_params:
            num_ctx: 20480
            num_thread: 4
            temperature: 0.5
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: 48d8610a-aab1-4e2e-8fd1-3111b94de508
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™ËØàÈ™óÊï∞ÊçÆÂàÜÊûê‰∏ìÂÆ∂,Á≤æÈÄö‰ªéËØàÈ™óÊï∞ÊçÆÊÄªÁªìÂàÜÊûêËÉΩÂäõ

            '
        - id: d424dafa-ebed-4271-90e5-4bafff0ca243
          role: user
          text: "# ‰ªªÂä°: ËØ∑‰ªé‰ª•‰∏ãËØàÈ™óÊï∞ÊçÆ‰∏≠,ÊÄªÁªìÂàÜÊûêÂá∫Êï∞ÊçÆË∂ãÂäø\n\n----\n# ËØàÈ™óÊï∞ÊçÆÂÜÖÂÆπ:***REMOVED***{#1724295169935.res_data#***REMOVED******REMOVED***\n\
            # ËØàÈ™óÊï∞ÊçÆÁªìÊûÑËØ¥Êòé: column Â≠óÊÆµ‰ª£Ë°®ËØàÈ™óÊï∞ÊçÆschemaÂÆö‰πâÔºåresultÂ≠óÊÆµ‰ª£Ë°®ËØàÈ™óÊï∞ÊçÆÊòéÁªÜÔºå‰æãÂ¶ÇÔºö{'column':['Êé•Ë≠¶ÂçïÂè∑'],'result':[{'Êé•Ë≠¶ÂçïÂè∑':222xxx***REMOVED***]***REMOVED***\
            \ \n\n----\n# Á∫¶Êùü:\n - ËæìÂá∫ÁªìÊûú‰∏çËÉΩÂá∫Áé∞Ëã±ÊñáÂíåÁπÅ‰ΩìÂ≠ó\n - ‰∏•Ê†º‰æùÊçÆÊï∞ÊçÆÈõÜÂõûÁ≠î‰∏çË¶ÅËôöÊûÑ\n - Êï∞ÊçÆÈõÜ‰∏∫Á©∫Êó∂ËøîÂõûÁ©∫\n\
            \ - ‰∏çË¶ÅËæìÂá∫ÊÄùËÄÉËøáÁ®ã\n - ËØàÈ™óÊ°à‰ª∂Êï∞Èáè‰ªéresultÂ≠óÊÆµ‰∏≠ÁªüËÆ°\n - Â≠óÊï∞ÈôêÂà∂Âú®150Â≠ó‰ª•ÂÜÖ\n - ËØ∑‰∏ÄÊ≠•‰∏ÄÊ≠•ÊÄùËÄÉÂπ∂ÊåâÁÖß‰ª•‰∏ãÊ†ºÂºèËæìÂá∫\n\
            \n# ËæìÂá∫Ê†ºÂºè:  ÊñáÊú¨"
        selected: false
        title: ÂàÜÊûêÊÄªÁªìÁªìÊûú
        type: llm
        variables: []
        vision:
          enabled: false
      height: 126
      id: '1724295728093'
      position:
        x: 3070
        y: 703
      positionAbsolute:
        x: 3070
        y: 703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(llm_out:str***REMOVED*** -> dict:\n***REMOVED***\n        \"llm_out_wrapper\"\
          : llm_out+\"ËØ¶ÊÉÖÂ¶Ç‰∏ãÂõæ:\"\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          llm_out_wrapper:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÂ§ßÊ®°ÂûãÊñáÊú¨
        type: code
        variables:
        - value_selector:
          - '1724295728093'
          - text
          variable: llm_out
      height: 54
      id: '1724295911042'
      position:
        x: 3374
        y: 694
      positionAbsolute:
        x: 3374
        y: 694
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1724295911042.llm_out_wrapper#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***

        ***REMOVED***{#1721978276391.dify_0_t04#***REMOVED******REMOVED***{{#1724295046398.body#***REMOVED******REMOVED***{{#1721978276391.dify_1_t04#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: ÂìçÂ∫îÁªìÊûúÈõÜ
        type: answer
        variables: []
      height: 198
      id: '1724296111387'
      position:
        x: 3678
        y: 694
      positionAbsolute:
        x: 3678
        y: 694
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(body: dict***REMOVED*** -> dict:\n    message = json.loads(body***REMOVED***\n\
          \***REMOVED***\n        \"url\": message.get('data', ''***REMOVED***, \n        \"res_code\"\
          : str(message.get('code', ''***REMOVED******REMOVED***\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          res_code:
            children: null
            type: string
          url:
            children: null
            type: string
        selected: false
        title: Ëß£ÊûêÊêúÁ¥¢ÁöÑÁªìÊûú
        type: code
        variables:
        - value_selector:
          - '1730357094740'
          - body
          variable: body
      height: 54
      id: '1730191229734'
      position:
        x: 2158
        y: 945.5
      positionAbsolute:
        x: 2158
        y: 945.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#17301926909140.llm_out#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: ËøîÂõûÊêúÁ¥¢‰ø°ÊÅØ
        type: answer
        variables: []
      height: 141
      id: '17301913471500'
      position:
        x: 3678
        y: 933
      positionAbsolute:
        x: 3678
        y: 933
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: webscraper
        provider_name: webscraper
        provider_type: builtin
        selected: false
        title: ÁΩëÈ°µÁà¨Ëô´
        tool_configurations:
          generate_summary: null
          user_agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64***REMOVED*** AppleWebKit/537.36
            (KHTML, like Gecko***REMOVED*** Chrome/100.0.1000.0 Safari/537.36
        tool_label: ÁΩëÈ°µÁà¨Ëô´
        tool_name: webscraper
        tool_parameters:
          url:
            type: mixed
            value: '{{#1730191229734.url#***REMOVED******REMOVED***'
        type: tool
      height: 116
      id: '1730192041363'
      position:
        x: 2766
        y: 910.5
      positionAbsolute:
        x: 2766
        y: 910.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            num_thread: 4
            temperature: 0
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: 7e2bdc70-acec-4d79-a49f-deb78156dbe4
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™‰ø°ÊÅØÊäΩÂèñÈ´òÊâã,ÊìÖÈïøÊ†πÊçÆÁî®Êà∑ÈóÆÈ¢ò‰ªéÁΩëÈ°µÂÜÖÂÆπ‰∏≠ÊäΩÂèñÁõ∏ÂÖ≥‰ø°ÊÅØ.'
        - id: adcc500b-a842-4e48-b825-379f0b6e3af6
          role: user
          text: '# Áî®Êà∑ÈóÆÈ¢ò: {{#sys.query#***REMOVED******REMOVED***


            # ‰Ω†ÁöÑ‰ªªÂä°ÊòØ‰ªéÁà¨Ëô´Áà¨ÂèñÁöÑÁΩëÈ°µÂÜÖÂÆπ‰∏≠ÊäΩÂèñ‰∏éÁî®Êà∑ÈóÆÈ¢òÁõ∏ÂÖ≥‰ø°ÊÅØ.


            -----

            # Áà¨Ëô´Áà¨ÂèñÁöÑÁΩëÈ°µÂÜÖÂÆπ: {{#1730192041363.text#***REMOVED******REMOVED***


            # Á∫¶Êùü

            - ‰∏•Ê†ºÊ†πÊçÆÁΩëÈ°µÂÜÖÂÆπ‰∏çËÉΩÊçèÈÄ†‰∫ãÂÆû

            - ‰∏çËÉΩÂá∫Áé∞ÁπÅ‰ΩìÂ≠óË¶ÅÁÆÄÂçïÁõ¥ËßÇ

            - Â≠óÊï∞ÊéßÂà∂Âú®1000Â≠ó‰ª•ÂÜÖ

            - ‰∏çËÉΩÂá∫Áé∞htmlÊ†áÁ≠æÂåÖÊã¨ËΩ¨‰πâÊ†áÁ≠æ


            # ËæìÂá∫Ê†ºÂºè

            - ‰ª•ÂêàÈÄÇÁöÑÂΩ¢ÂºèËøõË°åËæìÂá∫


            '
        selected: false
        title: ÊÄªÁªìÊèêÂèñÁΩëÈ°µÂÜÖÂÆπ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1730192352305'
      position:
        x: 3070
        y: 928.5
      positionAbsolute:
        x: 3070
        y: 928.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(llm_out:str***REMOVED*** -> dict:\n***REMOVED***\n        \"llm_out\"\
          : llm_out\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          llm_out:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÊÄªÁªì‰ø°ÊÅØ
        type: code
        variables:
        - value_selector:
          - '1730192352305'
          - text
          variable: llm_out
      height: 54
      id: '17301926909140'
      position:
        x: 3374
        y: 905.5
      positionAbsolute:
        x: 3374
        y: 905.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: post
        params: query_str:{{#sys.query#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: ÈÄöÁî®ÈóÆÁ≠î
        type: http-request
        url: http://host.docker.internal:8088/common/get_search_url
        variables: []
      height: 151
      id: '1730357094740'
      position:
        x: 1854
        y: 907.5
      positionAbsolute:
        x: 1854
        y: 907.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: ''
          type: none
        desc: ''
        headers: ''
        method: get
        params: query_str:{{#sys.query#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: Êä•ÂëäÈóÆÁ≠î
        type: http-request
        url: http://host.docker.internal:8088/llm/query_guided_report
        variables: []
      height: 135
      id: '1730887499318'
      position:
        x: 1854
        y: 1269.5
      positionAbsolute:
        x: 1854
        y: 1269.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\n\ndef main(query_result: str***REMOVED***:\n    try:\n        parsed_json\
          \ = json.loads(query_result***REMOVED***\n        if not isinstance(parsed_json, dict***REMOVED***:\n\
          \            parsed_json = json.loads(parsed_json***REMOVED***\n\n    ***REMOVED***\n\
          \            \"res_code\": str(parsed_json['code']***REMOVED***,\n            \"mark_down\"\
          : parsed_json['data']\n        ***REMOVED***\n    except Exception as e :\n        return\
          \ {\"res_code\": \"9999\",\"outline\": f\"{e***REMOVED***\"***REMOVED***"
        code_language: python3
        desc: ''
        outputs:
          mark_down:
            children: null
            type: string
          res_code:
            children: null
            type: string
        selected: false
        title: Ëß£ÊûêËøîÂõûÁªìÊûú
        type: code
        variables:
        - value_selector:
          - '1730887499318'
          - body
          variable: query_result
      height: 54
      id: '1730887562850'
      position:
        x: 2158
        y: 1299.5
      positionAbsolute:
        x: 2158
        y: 1299.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 066e4a01-43dc-4ce2-be97-243fb65e7208
            value: '200'
            varType: string
            variable_selector:
            - '1730887562850'
            - res_code
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Âà§Êñ≠Áä∂ÊÄÅ
        type: if-else
      height: 126
      id: '1730887626621'
      position:
        x: 2462
        y: 1223.5
      positionAbsolute:
        x: 2462
        y: 1223.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1730887562850.mark_down#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: ËøîÂõûÁªìÊûú
        type: answer
        variables: []
      height: 141
      id: '1730887662105'
      position:
        x: 2766
        y: 1250.5
      positionAbsolute:
        x: 2766
        y: 1250.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 7098a09d-4507-433d-a68b-984ae872a6f6
            value: '200'
            varType: string
            variable_selector:
            - '1730191229734'
            - res_code
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Âà§Êñ≠Áä∂ÊÄÅ
        type: if-else
      height: 126
      id: '17310323739450'
      position:
        x: 2462
        y: 869.5
      positionAbsolute:
        x: 2462
        y: 869.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1721978276391.data_reveal#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: ËøîÂõûÂ§±Ë¥•
        type: answer
        variables: []
      height: 141
      id: '17310324005060'
      position:
        x: 2766
        y: 1066.5
      positionAbsolute:
        x: 2766
        y: 1066.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 3bcc3968-d3ab-4c01-9149-40cb943e491f
            value: COMMON_QA
            varType: string
            variable_selector:
            - '1721978213302'
            - qa_type
          id: 'true'
          logical_operator: and
        - case_id: d7c25be0-954f-4965-a2f1-20d29f530704
          conditions:
          - comparison_operator: contains
            id: 6a4c44d6-d442-4628-8faf-42c7d10c5711
            value: DATABASE_QA
            varType: string
            variable_selector:
            - '1721978213302'
            - qa_type
          id: d7c25be0-954f-4965-a2f1-20d29f530704
          logical_operator: and
        - case_id: 68588ce1-7f5d-4af9-8191-4320e927e7fd
          conditions:
          - comparison_operator: contains
            id: be63fafa-e43f-4448-bcce-227ddda1f6d7
            value: FILEDATA_QA
            varType: string
            variable_selector:
            - '1721978213302'
            - qa_type
          id: 68588ce1-7f5d-4af9-8191-4320e927e7fd
          logical_operator: and
        - case_id: c1319e61-38af-4482-979b-3a2e2c4e6026
          conditions:
          - comparison_operator: contains
            id: 3d96735d-1e97-43e3-95b1-3bcf398889db
            value: REPORT_QA
            varType: string
            variable_selector:
            - '1721978213302'
            - qa_type
          id: c1319e61-38af-4482-979b-3a2e2c4e6026
          logical_operator: and
        desc: ''
        selected: false
        title: ÊÑèÂõæÂàÜÁ±ª
        type: if-else
      height: 270
      id: '1732517672259'
      position:
        x: 1550
        y: 456
      positionAbsolute:
        x: 1550
        y: 456
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: post
        params: file_qa_str:{{#sys.query#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: Ë°®Ê†ºÊÄªÁªì
        type: http-request
        url: http://host.docker.internal:8088/file/read_file
        variables: []
      height: 135
      id: '1732520123593'
      position:
        x: 2462
        y: 1389.5
      positionAbsolute:
        x: 2462
        y: 1389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(file_datas: str***REMOVED***:\n    try:\n        file_data_json\
          \ = json.loads(file_datas***REMOVED***\n        db_data = json.loads(file_data_json['data']***REMOVED***\n\
          \    ***REMOVED***\n            \"file_res_code\": str(file_data_json['code']***REMOVED***,\n\
          \            \"file_res_data\": str(db_data***REMOVED***\n        ***REMOVED***\n    except Exception\
          \ as e :\n    ***REMOVED***\"file_res_code\": \"9999\",\"file_res_data\"\
          :f\"{e***REMOVED***\"***REMOVED***"
        code_language: python3
        desc: ''
        outputs:
          file_res_code:
            children: null
            type: string
          file_res_data:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊñá‰ª∂ÂÜÖÂÆπ
        type: code
        variables:
        - value_selector:
          - '1732520123593'
          - body
          variable: file_datas
      height: 54
      id: '1732520201744'
      position:
        x: 2766
        y: 1451.5
      positionAbsolute:
        x: 2766
        y: 1451.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: d8002acb-7dd8-4675-8db6-df76a44094de
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂàÜÊûê‰∏ìÂÆ∂


            #‰Ω†ÁöÑ‰ªªÂä°ÊòØ:

            ‰∏ãÈù¢ÊòØÁî®Êà∑Excel''Êñá‰ª∂ÈÉ®ÂàÜÊï∞ÊçÆ''ÔºåËØ∑Â≠¶‰π†ÁêÜËß£ËØ•Êï∞ÊçÆÁöÑÁªìÊûÑÂíåÂÜÖÂÆπÔºåÁÆÄÂçïÊÄªÁªìÊñá‰ª∂ÂÜÖÂÆπÂπ∂ÈíàÂØπÊï∞ÊçÆ‰ªé‰∏çÂêåÁª¥Â∫¶Êèê‰æõ‰∏Ä‰∫õÊúâÁî®ÁöÑÂàÜÊûêÊÄùË∑ØÁªôÁî®Êà∑


            # Êñá‰ª∂ÈÉ®ÂàÜÊï∞ÊçÆ:

            ---

            : {{#1732520201744.file_res_data#***REMOVED******REMOVED***

            ---'
        - id: 0eeaab3f-73da-4dac-beb0-b7b5f225bd75
          role: user
          text: "# human:***REMOVED***{#sys.query#***REMOVED******REMOVED***\n\n# Á∫¶Êùü:¬†\n- ËæìÂá∫Â≠óÊï∞Âú®200Â≠ó‰ª•ÂÜÖ\n- ‰∏•Ê†ºÂèÇËÄÉÊñá‰ª∂Êï∞ÊçÆ‰∏çË¶ÅËôöÊûÑ‰ø°ÊÅØ\n\
            - Â§ö‰∏™sheetÈúÄË¶ÅÂàÜÂºÄÂàÜÊûêÂπ∂ËøõË°åÂçïÁã¨ËøîÂõû\nËØ∑‰∏ÄÊ≠•‰∏ÄÊ≠•ÊÄùËÄÉ\n\n# ËæìÂá∫Ê†ºÂºè: \n- markdowÊñáÊú¨ÂΩ¢ÂºèËæìÂá∫"
        selected: false
        title: ÊÄªÁªìÊñá‰ª∂ÂÜÖÂÆπ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732520268554'
      position:
        x: 3070
        y: 1438.5
      positionAbsolute:
        x: 3070
        y: 1438.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1732520761704.result#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: Êñá‰ª∂ÂÜÖÂÆπÊÄªÁªì
        type: answer
        variables: []
      height: 141
      id: '1732520428762'
      position:
        x: 3678
        y: 1443
      positionAbsolute:
        x: 3678
        y: 1443
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(llm_out:str***REMOVED*** -> dict:\n***REMOVED***\n        \"result\"\
          : llm_out\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÂ§ßÊ®°ÂûãÊñáÊú¨
        type: code
        variables:
        - value_selector:
          - '1732520268554'
          - text
          variable: llm_out
      height: 54
      id: '1732520761704'
      position:
        x: 3374
        y: 1415.5
      positionAbsolute:
        x: 3374
        y: 1415.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(query_str: str***REMOVED*** -> dict:\n    # ‰ΩøÁî®ÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤ÔºåÈªòËÆ§ÂàÜÈöîÁ¨¶‰∏∫'|'\n\
          \    parts = query_str.split('|'***REMOVED***\n    \n    # Ê£ÄÊü•ÂàÜÈöîÂêéÁöÑÂàóË°®ÈïøÂ∫¶ÊòØÂê¶Â§ß‰∫é1Ôºå‰ª•Á°Æ‰øùÂ≠òÂú®Á¨¨‰∫å‰∏™ÈÉ®ÂàÜ\n\
          \    if len(parts***REMOVED*** > 1:\n        # Ê£ÄÊü•Á¨¨‰∫å‰∏™ÈÉ®ÂàÜÊòØÂê¶Á≠â‰∫éÁâπÂÆöÂ≠óÁ¨¶‰∏≤\n        if parts[1].strip(***REMOVED***\
          \ == 'ÊÄªÁªìÂΩíÁ∫≥ÊñáÊ°£ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØ':\n            flag=1\n        else:\n            flag=2\n\
          \    else:\n        # Â¶ÇÊûúÊ≤°ÊúâË∂≥Â§üÁöÑÈÉ®ÂàÜÔºåÂàôËøîÂõû2\n        flag=2\n***REMOVED***\n   \
          \     \"flag\": flag,\n        \"file_key\": parts[0],\n        \"question_str\"\
          : parts[1]\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          file_key:
            children: null
            type: string
          flag:
            children: null
            type: number
          question_str:
            children: null
            type: string
        selected: false
        title: ÂàÜÈöîÊñá‰ª∂ÂØπËØùÈóÆÈ¢ò
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: query_str
      height: 54
      id: '1734683532736'
      position:
        x: 1854
        y: 1451.5
      positionAbsolute:
        x: 1854
        y: 1451.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: '='
            id: fd0fa633-bb56-4c11-b08f-7bde5b9ecd50
            value: '1'
            varType: number
            variable_selector:
            - '1734683532736'
            - flag
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Êñá‰ª∂ÈóÆÁ≠îÊÑèÂõæÂàÜÁ±ª
        type: if-else
      height: 126
      id: '1734683610947'
      position:
        x: 2158
        y: 1419.5
      positionAbsolute:
        x: 2158
        y: 1419.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: post
        params: file_qa_str:{{#sys.query#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: ËØªÂèñË°®Ê†ºÂàó
        type: http-request
        url: http://host.docker.internal:8088/file/read_file_column
        variables: []
      height: 135
      id: '17355251156380'
      position:
        x: 2462
        y: 1535.5
      positionAbsolute:
        x: 2462
        y: 1535.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(res_datas: str***REMOVED***:\n    try:\n        column_data_json\
          \ = json.loads(res_datas***REMOVED***\n        column_data = json.loads(column_data_json['data']***REMOVED***\n\
          \    ***REMOVED***\n            \"res_code\": str(column_data_json['code']***REMOVED***,\n\
          \            \"column_data\": 'excel_table:'+str(column_data***REMOVED***\n        ***REMOVED***\n\
          \    except Exception as e :\n    ***REMOVED***\"res_code\": \"9999\",\"\
          res_data\":f\"{e***REMOVED***\"***REMOVED***"
        code_language: python3
        desc: ''
        outputs:
          column_data:
            children: null
            type: string
          res_code:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊñá‰ª∂ÂàóÂêç
        type: code
        variables:
        - value_selector:
          - '17355251156380'
          - body
          variable: res_datas
      height: 54
      id: '1735525806917'
      position:
        x: 2766
        y: 1597.5
      positionAbsolute:
        x: 2766
        y: 1597.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.5
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: ea976c24-3e29-4aeb-9c63-195bf30d4790
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™DBAÊìÖÈïøÁºñÂÜôÂ§çÊùÇÁöÑ duckdb SQLËØ≠Âè•


            # ‰Ω†ÁöÑ‰ªªÂä°ÊòØ: ËØ∑Ê†πÊçÆÁî®Êà∑ÈÄâÊã©ÁöÑÊï∞ÊçÆÂ∫ìÂíåËØ•Â∫ìÁöÑÈÉ®ÂàÜÂèØÁî®Ë°®ÁªìÊûÑÂÆö‰πâÂú®Êª°Ë∂≥‰∏ãÈù¢Á∫¶ÊùüÊù°‰ª∂‰∏ãÈÄöËøáduckdb sqlÊï∞ÊçÆÂàÜÊûêÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò.


            # Ë°®ÁªìÊûÑÂÆö‰πâ:***REMOVED***{#1735525806917.column_data#***REMOVED******REMOVED***

            '
        - id: abb84ba3-0155-46be-9b34-c250dcb23474
          role: user
          text: "human: {{#1734683532736.question_str#***REMOVED******REMOVED***\n\n# Á∫¶Êùü:\n- ËØ∑Ê≥®ÊÑèÁîüÊàêSQLÊó∂‰∏çË¶ÅÂºÑÈîôË°®ÂíåÂàóÁöÑÂÖ≥Á≥ª„ÄÇ\n\
            - ËØ∑Ê£ÄÊü•SQLÁöÑÊ≠£Á°ÆÊÄßÔºåÂπ∂‰øùËØÅÊ≠£Á°ÆÁöÑÊÉÖÂÜµ‰∏ã‰ºòÂåñÊü•ËØ¢ÊÄßËÉΩ„ÄÇ\n- SQL‰∏≠ÈúÄË¶Å‰ΩøÁî®ÁöÑË°®ÂêçÊòØ: excel_table,ËØ∑Ê£ÄÊü•‰Ω†ÁîüÊàêÁöÑsqlÔºå‰∏çË¶Å‰ΩøÁî®Ê≤°Âú®Êï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÂàóÂêç„ÄÇ\n\
            - ‰ºòÂÖà‰ΩøÁî®Êï∞ÊçÆÂàÜÊûêÁöÑÊñπÂºèÂõûÁ≠îÔºåÂ¶ÇÊûúÁî®Êà∑ÈóÆÈ¢ò‰∏çÊ∂âÂèäÊï∞ÊçÆÂàÜÊûêÂÜÖÂÆπÔºå‰Ω†ÂèØ‰ª•Êåâ‰Ω†ÁöÑÁêÜËß£ËøõË°åÂõûÁ≠î„ÄÇ\n- Áî®Êà∑Âú®ÈóÆÈ¢ò‰∏≠ÊåáÂÆö‰∫Ü‰ªñÂ∏åÊúõËé∑ÂæóÁöÑÂÖ∑‰ΩìÊï∞ÊçÆË°åÊï∞ÔºåÂ¶ÇÊûúÂ§ß‰∫é50ÂàôÂßãÁªàÂ∞ÜÊü•ËØ¢ÈôêÂà∂‰∏∫ÊúÄÂ§ö50‰∏™ÁªìÊûú\n\
            - ËØ∑Ê†πÊçÆÁî®Êà∑ÈóÆÈ¢òÁêÜËß£Áî®Êà∑ÊÑèÂõæÔºå‰ΩøÁî®ÁªôÂá∫Ë°®ÁªìÊûÑÂÆö‰πâÂàõÂª∫‰∏Ä‰∏™ËØ≠Ê≥ïÊ≠£Á°ÆÁöÑ duckdb sqlÔºåÂ¶ÇÊûú‰∏çÈúÄË¶ÅsqlÔºåÂàôÁõ¥Êé•ÂõûÁ≠îÁî®Êà∑ÈóÆÈ¢ò„ÄÇ\n- ÊâÄÊúâÊü•ËØ¢ÁöÑÂÄºÈÉΩÂøÖÈ°ªÊúâÂà´ÂêçÔºåÊØîÂ¶Ç‰ªéË°®‰∏≠ÈÄâÊã©\
            \ SELECT ‰∫ßÂú∞, COUNT(****REMOVED*** as ÂïÜÂìÅÊï∞Èáè FROM excel_table GROUP BY ‰∫ßÂú∞\n- Âè™ËÉΩ‰ΩøÁî®Ë°®ÁªìÊûÑ‰ø°ÊÅØ‰∏≠Êèê‰æõÁöÑË°®Êù•ÁîüÊàê\
            \ sqlÔºåÂ¶ÇÊûúÊó†Ê≥ïÊ†πÊçÆÊèê‰æõÁöÑË°®ÁªìÊûÑ‰∏≠ÁîüÊàê sql ÔºåËØ∑ËØ¥Ôºö'Êèê‰æõÁöÑË°®ÁªìÊûÑ‰ø°ÊÅØ‰∏çË∂≥‰ª•ÁîüÊàê sql Êü•ËØ¢„ÄÇ'Á¶ÅÊ≠¢ÈöèÊÑèÊçèÈÄ†‰ø°ÊÅØ„ÄÇ\n- ËØ∑‰ªéÂ¶Ç‰∏ãÁªôÂá∫ÁöÑÂ±ïÁ§∫ÊñπÂºèÁßçÈÄâÊã©ÊúÄÂΩ¢Ë±°ÁöÑ‰∏ÄÁßçÁî®‰ª•ËøõË°åÊï∞ÊçÆÊ∏≤ÊüìÔºåÂ∞ÜÁ±ªÂûãÂêçÁß∞ÊîæÂÖ•ËøîÂõûË¶ÅÊ±ÇÊ†ºÂºèÁöÑnameÂèÇÊï∞ÂÄº‰∏≠ÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞ÊúÄÂêàÈÄÇÁöÑÂàô‰ΩøÁî®'Table'‰Ωú‰∏∫Â±ïÁ§∫ÊñπÂºèÔºåÊï∞ÊçÆÂ±ïÁ§∫ÊñπÂºèÂ¶Ç‰∏ã:\n\
            \ {{#1721978276391.nl2sql_display_type#***REMOVED******REMOVED***\n# ËøîÂõûÊ†ºÂºè:\n ËØ∑‰∏ÄÊ≠•Ê≠•ÊÄùËÄÉÂπ∂ÊåâÁÖß‰ª•‰∏ãJSONÊ†ºÂºèÂõûÂ§çÔºö{{#1721978276391.nl2sql_response#***REMOVED******REMOVED***\n\
            \ Á°Æ‰øùËøîÂõûÊ≠£Á°ÆÁöÑjsonÂπ∂‰∏îÂèØ‰ª•Ë¢´Python json.loadsÊñπÊ≥ïËß£Êûê."
        selected: false
        title: Êñá‰ª∂ÈóÆÁ≠î
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735526005555'
      position:
        x: 3070
        y: 1584.5
      positionAbsolute:
        x: 3070
        y: 1584.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-1
            key: ''
            type: text
            value: '{{#1735526005555.text#***REMOVED******REMOVED***'
          type: json
        desc: ÊâßË°åSQLËØ≠Âè•Â∞ÅË£ÖÁªìÊûúÈõÜ
        headers: ''
        method: post
        params: file_key:{{#1734683532736.file_key#***REMOVED******REMOVED***
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: Ëé∑ÂèñÊï∞ÊçÆÈõÜ
        type: http-request
        url: http://host.docker.internal:8088/file/process_file_llm_out
        variables: []
      height: 179
      id: '17355298585890'
      position:
        x: 3374
        y: 1513.5
      positionAbsolute:
        x: 3374
        y: 1513.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(db_result: str***REMOVED***:\n    try:\n        db_result_json\
          \ = json.loads(db_result***REMOVED***\n        db_data = json.loads(db_result_json['data']***REMOVED***\n\
          \n    ***REMOVED***\n            \"res_code\": str(db_result_json['code']***REMOVED***,\n\
          \            \"res_data\": str(db_data['data']***REMOVED***\n        ***REMOVED***\n    except Exception\
          \ as e :\n    ***REMOVED***\"res_code\": \"9999\"***REMOVED***"
        code_language: python3
        desc: ''
        outputs:
          res_code:
            children: null
            type: string
          res_data:
            children: null
            type: string
        selected: false
        title: Ëß£ÊûêËøîÂõûÁªìÊûú
        type: code
        variables:
        - value_selector:
          - '17355298585890'
          - body
          variable: db_result
      height: 54
      id: '1735530100215'
      position:
        x: 3678
        y: 1634
      positionAbsolute:
        x: 3678
        y: 1634
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is not
            id: b544b6b3-d1be-4047-bb52-8117e61b5c91
            value: '200'
            varType: string
            variable_selector:
            - '1735530100215'
            - res_code
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Âà§Êñ≠Áä∂ÊÄÅ
        type: if-else
      height: 126
      id: '1735530110523'
      position:
        x: 3982
        y: 1561.5
      positionAbsolute:
        x: 3982
        y: 1561.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#1721978276391.data_reveal#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: Áõ¥Êé•ÂõûÂ§ç
        type: answer
        variables: []
      height: 141
      id: '1735530121003'
      position:
        x: 4286
        y: 1561.5
      positionAbsolute:
        x: 4286
        y: 1561.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1721978276391.dify_0_t02#***REMOVED******REMOVED***{{#17355424274730.llm_out_wrapper#***REMOVED******REMOVED***{{#1721978276391.dify_1_t02#***REMOVED******REMOVED***

        ***REMOVED***{#1721978276391.dify_0_t04#***REMOVED******REMOVED***{{#17355298585890.body#***REMOVED******REMOVED***{{#1721978276391.dify_1_t04#***REMOVED******REMOVED***'
        desc: ''
        selected: false
        title: Áõ¥Êé•ÂõûÂ§ç
        type: answer
        variables: []
      height: 198
      id: '1735530155560'
      position:
        x: 4894
        y: 1736.5
      positionAbsolute:
        x: 4894
        y: 1736.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ÁîüÊàêÊÄªÁªì‰ø°ÊÅØ
        model:
          completion_params:
            num_ctx: 20480
            num_thread: 4
            temperature: 0.5
          mode: chat
          name: qwen2.5
          provider: ollama
        prompt_template:
        - id: 48d8610a-aab1-4e2e-8fd1-3111b94de508
          role: system
          text: '# ‰Ω†ÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂàÜÊûê‰∏ìÂÆ∂,Á≤æÈÄö‰ªéÁªìÊûÑÂåñÊï∞ÊçÆÊÄªÁªìÂàÜÊûê

            '
        - id: d424dafa-ebed-4271-90e5-4bafff0ca243
          role: user
          text: "# ‰ªªÂä°: ËØ∑‰ªé‰ª•‰∏ãÁªìÊûÑÂåñÊï∞ÊçÆ‰∏≠,ÊÄªÁªìÂàÜÊûêÂá∫Êï∞ÊçÆË∂ãÂäø\n\n----\n# ÁªìÊûÑÂåñÊï∞ÊçÆÂÜÖÂÆπ:***REMOVED***{#1735530100215.res_data#***REMOVED******REMOVED***\n\
            # ÁªìÊûÑÂåñÊï∞ÊçÆÊ†ºÂºèËØ¥Êòé: \n- column Â≠óÊÆµ‰ª£Ë°®Ê†ºÂàóÂÆö‰πâ\n- result‰ª£Ë°®Êï∞ÊçÆÊòéÁªÜ\n\n----\n# Á∫¶Êùü:\n - ËæìÂá∫ÁªìÊûú‰∏çËÉΩÂá∫Áé∞Ëã±ÊñáÂíåÁπÅ‰ΩìÂ≠ó\n\
            \ - ‰∏•Ê†º‰æùÊçÆÊï∞ÊçÆÈõÜÂõûÁ≠î‰∏çË¶ÅËôöÊûÑ\n - Êï∞ÊçÆÈõÜ‰∏∫Á©∫Êó∂ËøîÂõûÁ©∫\n - ‰∏çË¶ÅËæìÂá∫ÊÄùËÄÉËøáÁ®ã\n - ËØàÈ™óÊ°à‰ª∂Êï∞Èáè‰ªéresultÂ≠óÊÆµ‰∏≠ÁªüËÆ°\n\
            \ - Â≠óÊï∞ÈôêÂà∂Âú®150Â≠ó‰ª•ÂÜÖ\n - ËØ∑‰∏ÄÊ≠•‰∏ÄÊ≠•ÊÄùËÄÉÂπ∂ÊåâÁÖß‰ª•‰∏ãÊ†ºÂºèËæìÂá∫\n\n# ËæìÂá∫Ê†ºÂºè:  ÊñáÊú¨"
        selected: false
        title: ÂàÜÊûêÊï∞ÊçÆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 126
      id: '17355423844960'
      position:
        x: 4286
        y: 1745.5
      positionAbsolute:
        x: 4286
        y: 1745.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(llm_out:str***REMOVED*** -> dict:\n***REMOVED***\n        \"llm_out_wrapper\"\
          : llm_out+\"ËØ¶ÊÉÖÂ¶Ç‰∏ãÂõæ:\"\n    ***REMOVED***\n"
        code_language: python3
        desc: ''
        outputs:
          llm_out_wrapper:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÂ§ßÊ®°ÂûãÊñáÊú¨
        type: code
        variables:
        - value_selector:
          - '17355423844960'
          - text
          variable: llm_out
      height: 54
      id: '17355424274730'
      position:
        x: 4590
        y: 1736.5
      positionAbsolute:
        x: 4590
        y: 1736.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -1375.000000000001
      y: -579
      zoom: 0.7
